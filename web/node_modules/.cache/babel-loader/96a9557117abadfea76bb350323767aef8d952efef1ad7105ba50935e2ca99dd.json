{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\himat\\\\OneDrive\\\\desktop\\\\BeAbled\\\\web\\\\src\\\\VideoCall.tsx\",\n  _s = $RefreshSig$();\n// src/VideoCall.tsx\nimport React, { useEffect, useRef, useState } from 'react';\nimport './VideoCall.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst VideoCall = () => {\n  _s();\n  const params = new URLSearchParams(window.location.search);\n  const isCaller = params.get('caller') === '1';\n  const localVideoRef = useRef(null);\n  const remoteVideoRef = useRef(null);\n  const [peerConnection, setPeerConnection] = useState(null);\n  const ws = useRef(null);\n\n  // Are we currently connected in a call?\n  const [isConnected, setIsConnected] = useState(false);\n  // Has local camera started?\n  const [localStreamStarted, setLocalStreamStarted] = useState(false);\n\n  // NEW: State to track whether ASL detection is on\n  const [aslDetectionOn, setAslDetectionOn] = useState(false);\n  useEffect(() => {\n    const pc = new RTCPeerConnection({\n      iceServers: [{\n        urls: 'stun:stun.l.google.com:19302'\n      }]\n    });\n    setPeerConnection(pc);\n    pc.ontrack = event => {\n      if (remoteVideoRef.current) {\n        remoteVideoRef.current.srcObject = event.streams[0];\n      }\n    };\n    ws.current = new WebSocket('ws://localhost:8080');\n    ws.current.onmessage = async event => {\n      if (typeof event.data !== 'string') return;\n      let data;\n      try {\n        data = JSON.parse(event.data);\n      } catch (e) {\n        console.error('Failed to parse JSON:', event.data, e);\n        return;\n      }\n      if (data.offer) {\n        var _ws$current;\n        console.log('Got offer:', data.offer);\n        if (pc.signalingState !== 'stable') {\n          console.warn('Received offer while not stable.');\n          return;\n        }\n        await pc.setRemoteDescription(new RTCSessionDescription(data.offer));\n        const answer = await pc.createAnswer();\n        await pc.setLocalDescription(answer);\n        (_ws$current = ws.current) === null || _ws$current === void 0 ? void 0 : _ws$current.send(JSON.stringify({\n          answer\n        }));\n      } else if (data.answer) {\n        console.log('Got answer:', data.answer);\n        await pc.setRemoteDescription(new RTCSessionDescription(data.answer));\n      } else if (data.ice) {\n        try {\n          await pc.addIceCandidate(data.ice);\n        } catch (err) {\n          console.error('Error adding ICE candidate', err);\n        }\n      }\n    };\n    pc.onicecandidate = event => {\n      if (event.candidate) {\n        var _ws$current2;\n        (_ws$current2 = ws.current) === null || _ws$current2 === void 0 ? void 0 : _ws$current2.send(JSON.stringify({\n          ice: event.candidate\n        }));\n      }\n    };\n    return () => {\n      var _ws$current3;\n      pc.close();\n      (_ws$current3 = ws.current) === null || _ws$current3 === void 0 ? void 0 : _ws$current3.close();\n    };\n  }, []);\n\n  // Start local camera if not already\n  const startLocalStream = async () => {\n    if (localStreamStarted) return;\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: true\n      });\n      if (localVideoRef.current) {\n        localVideoRef.current.srcObject = stream;\n      }\n      peerConnection === null || peerConnection === void 0 ? void 0 : peerConnection.getSenders().forEach(sender => peerConnection === null || peerConnection === void 0 ? void 0 : peerConnection.removeTrack(sender));\n      stream.getTracks().forEach(track => {\n        peerConnection === null || peerConnection === void 0 ? void 0 : peerConnection.addTrack(track, stream);\n      });\n      setLocalStreamStarted(true);\n    } catch (err) {\n      console.error('Error accessing camera:', err);\n    }\n  };\n\n  // Connect button\n  const handleConnect = async () => {\n    if (!peerConnection || !ws.current) return;\n    await startLocalStream();\n    if (isCaller) {\n      try {\n        if (peerConnection.signalingState === 'stable') {\n          const offer = await peerConnection.createOffer();\n          await peerConnection.setLocalDescription(offer);\n          ws.current.send(JSON.stringify({\n            offer\n          }));\n          console.log('Offer sent:', offer);\n        }\n      } catch (err) {\n        console.error('Error creating offer:', err);\n      }\n    }\n    setIsConnected(true);\n  };\n\n  // End call button\n  const handleEndCall = () => {\n    console.log('Ending call...');\n    peerConnection === null || peerConnection === void 0 ? void 0 : peerConnection.close();\n    setIsConnected(false);\n    setLocalStreamStarted(false);\n\n    // Stop local video\n    if (localVideoRef.current) {\n      const stream = localVideoRef.current.srcObject;\n      if (stream) {\n        stream.getTracks().forEach(track => track.stop());\n      }\n      localVideoRef.current.srcObject = null;\n    }\n    // Clear remote\n    if (remoteVideoRef.current) {\n      remoteVideoRef.current.srcObject = null;\n    }\n  };\n\n  // NEW: Toggle ASL detection\n  const handleToggleASL = () => {\n    const newValue = !aslDetectionOn;\n    setAslDetectionOn(newValue);\n    if (newValue) {\n      // If the user is turning ASL ON, you might instruct them to run the Python script\n      // or send a message to the server to start capturing frames, etc.\n      console.log('ASL detection ON - run Python or other logic here.');\n    } else {\n      // If the user is turning ASL OFF\n      console.log('ASL detection OFF - stop Python or other logic here.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"video-call-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Two-Tab Video Call Demo with ASL Detection\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Role:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 12\n        }, this), \" \", isCaller ? 'Caller' : 'Callee']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button-group\",\n      children: [!isConnected && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"connect-btn\",\n        onClick: handleConnect,\n        children: isCaller ? 'Connect as Caller' : 'Connect as Callee'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this), isConnected && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"end-btn\",\n          onClick: handleEndCall,\n          children: \"End Call\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"connect-btn\",\n          style: {\n            backgroundColor: aslDetectionOn ? '#FF9800' : '#4CAF50'\n          },\n          onClick: handleToggleASL,\n          children: aslDetectionOn ? 'Stop ASL Detection' : 'Start ASL Detection'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Local Video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n          ref: localVideoRef,\n          autoPlay: true,\n          playsInline: true,\n          muted: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Remote Video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n          ref: remoteVideoRef,\n          autoPlay: true,\n          playsInline: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoCall, \"Nr96wHTmgKZKGjB0y3ml6bZqce4=\");\n_c = VideoCall;\nexport default VideoCall;\nvar _c;\n$RefreshReg$(_c, \"VideoCall\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","VideoCall","_s","params","URLSearchParams","window","location","search","isCaller","get","localVideoRef","remoteVideoRef","peerConnection","setPeerConnection","ws","isConnected","setIsConnected","localStreamStarted","setLocalStreamStarted","aslDetectionOn","setAslDetectionOn","pc","RTCPeerConnection","iceServers","urls","ontrack","event","current","srcObject","streams","WebSocket","onmessage","data","JSON","parse","e","console","error","offer","_ws$current","log","signalingState","warn","setRemoteDescription","RTCSessionDescription","answer","createAnswer","setLocalDescription","send","stringify","ice","addIceCandidate","err","onicecandidate","candidate","_ws$current2","_ws$current3","close","startLocalStream","stream","navigator","mediaDevices","getUserMedia","video","getSenders","forEach","sender","removeTrack","getTracks","track","addTrack","handleConnect","createOffer","handleEndCall","stop","handleToggleASL","newValue","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","backgroundColor","ref","autoPlay","playsInline","muted","_c","$RefreshReg$"],"sources":["C:/Users/himat/OneDrive/desktop/BeAbled/web/src/VideoCall.tsx"],"sourcesContent":["// src/VideoCall.tsx\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport './VideoCall.css';\r\n\r\nconst VideoCall: React.FC = () => {\r\n  const params = new URLSearchParams(window.location.search);\r\n  const isCaller = params.get('caller') === '1';\r\n\r\n  const localVideoRef = useRef<HTMLVideoElement | null>(null);\r\n  const remoteVideoRef = useRef<HTMLVideoElement | null>(null);\r\n\r\n  const [peerConnection, setPeerConnection] = useState<RTCPeerConnection | null>(null);\r\n  const ws = useRef<WebSocket | null>(null);\r\n\r\n  // Are we currently connected in a call?\r\n  const [isConnected, setIsConnected] = useState(false);\r\n  // Has local camera started?\r\n  const [localStreamStarted, setLocalStreamStarted] = useState(false);\r\n\r\n  // NEW: State to track whether ASL detection is on\r\n  const [aslDetectionOn, setAslDetectionOn] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const pc = new RTCPeerConnection({\r\n      iceServers: [{ urls: 'stun:stun.l.google.com:19302' }],\r\n    });\r\n    setPeerConnection(pc);\r\n\r\n    pc.ontrack = (event) => {\r\n      if (remoteVideoRef.current) {\r\n        remoteVideoRef.current.srcObject = event.streams[0];\r\n      }\r\n    };\r\n\r\n    ws.current = new WebSocket('ws://localhost:8080');\r\n    ws.current.onmessage = async (event) => {\r\n      if (typeof event.data !== 'string') return;\r\n      let data;\r\n      try {\r\n        data = JSON.parse(event.data);\r\n      } catch (e) {\r\n        console.error('Failed to parse JSON:', event.data, e);\r\n        return;\r\n      }\r\n\r\n      if (data.offer) {\r\n        console.log('Got offer:', data.offer);\r\n        if (pc.signalingState !== 'stable') {\r\n          console.warn('Received offer while not stable.');\r\n          return;\r\n        }\r\n        await pc.setRemoteDescription(new RTCSessionDescription(data.offer));\r\n        const answer = await pc.createAnswer();\r\n        await pc.setLocalDescription(answer);\r\n        ws.current?.send(JSON.stringify({ answer }));\r\n      } else if (data.answer) {\r\n        console.log('Got answer:', data.answer);\r\n        await pc.setRemoteDescription(new RTCSessionDescription(data.answer));\r\n      } else if (data.ice) {\r\n        try {\r\n          await pc.addIceCandidate(data.ice);\r\n        } catch (err) {\r\n          console.error('Error adding ICE candidate', err);\r\n        }\r\n      }\r\n    };\r\n\r\n    pc.onicecandidate = (event) => {\r\n      if (event.candidate) {\r\n        ws.current?.send(JSON.stringify({ ice: event.candidate }));\r\n      }\r\n    };\r\n\r\n    return () => {\r\n      pc.close();\r\n      ws.current?.close();\r\n    };\r\n  }, []);\r\n\r\n  // Start local camera if not already\r\n  const startLocalStream = async () => {\r\n    if (localStreamStarted) return;\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ video: true });\r\n      if (localVideoRef.current) {\r\n        localVideoRef.current.srcObject = stream;\r\n      }\r\n      peerConnection?.getSenders().forEach(sender => peerConnection?.removeTrack(sender));\r\n      stream.getTracks().forEach(track => {\r\n        peerConnection?.addTrack(track, stream);\r\n      });\r\n      setLocalStreamStarted(true);\r\n    } catch (err) {\r\n      console.error('Error accessing camera:', err);\r\n    }\r\n  };\r\n\r\n  // Connect button\r\n  const handleConnect = async () => {\r\n    if (!peerConnection || !ws.current) return;\r\n    await startLocalStream();\r\n    if (isCaller) {\r\n      try {\r\n        if (peerConnection.signalingState === 'stable') {\r\n          const offer = await peerConnection.createOffer();\r\n          await peerConnection.setLocalDescription(offer);\r\n          ws.current.send(JSON.stringify({ offer }));\r\n          console.log('Offer sent:', offer);\r\n        }\r\n      } catch (err) {\r\n        console.error('Error creating offer:', err);\r\n      }\r\n    }\r\n    setIsConnected(true);\r\n  };\r\n\r\n  // End call button\r\n  const handleEndCall = () => {\r\n    console.log('Ending call...');\r\n    peerConnection?.close();\r\n    setIsConnected(false);\r\n    setLocalStreamStarted(false);\r\n\r\n    // Stop local video\r\n    if (localVideoRef.current) {\r\n      const stream = localVideoRef.current.srcObject as MediaStream;\r\n      if (stream) {\r\n        stream.getTracks().forEach(track => track.stop());\r\n      }\r\n      localVideoRef.current.srcObject = null;\r\n    }\r\n    // Clear remote\r\n    if (remoteVideoRef.current) {\r\n      remoteVideoRef.current.srcObject = null;\r\n    }\r\n  };\r\n\r\n  // NEW: Toggle ASL detection\r\n  const handleToggleASL = () => {\r\n    const newValue = !aslDetectionOn;\r\n    setAslDetectionOn(newValue);\r\n\r\n    if (newValue) {\r\n      // If the user is turning ASL ON, you might instruct them to run the Python script\r\n      // or send a message to the server to start capturing frames, etc.\r\n      console.log('ASL detection ON - run Python or other logic here.');\r\n    } else {\r\n      // If the user is turning ASL OFF\r\n      console.log('ASL detection OFF - stop Python or other logic here.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"video-call-container\">\r\n      <div className=\"header\">\r\n        <h2>Two-Tab Video Call Demo with ASL Detection</h2>\r\n        <p><strong>Role:</strong> {isCaller ? 'Caller' : 'Callee'}</p>\r\n      </div>\r\n\r\n      <div className=\"button-group\">\r\n        {!isConnected && (\r\n          <button className=\"connect-btn\" onClick={handleConnect}>\r\n            {isCaller ? 'Connect as Caller' : 'Connect as Callee'}\r\n          </button>\r\n        )}\r\n        {isConnected && (\r\n          <>\r\n            <button className=\"end-btn\" onClick={handleEndCall}>\r\n              End Call\r\n            </button>\r\n            <button\r\n              className=\"connect-btn\"\r\n              style={{ backgroundColor: aslDetectionOn ? '#FF9800' : '#4CAF50' }}\r\n              onClick={handleToggleASL}\r\n            >\r\n              {aslDetectionOn ? 'Stop ASL Detection' : 'Start ASL Detection'}\r\n            </button>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"video-container\">\r\n        <div className=\"video-box\">\r\n          <h3>Local Video</h3>\r\n          <video ref={localVideoRef} autoPlay playsInline muted />\r\n        </div>\r\n        <div className=\"video-box\">\r\n          <h3>Remote Video</h3>\r\n          <video ref={remoteVideoRef} autoPlay playsInline />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoCall;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}